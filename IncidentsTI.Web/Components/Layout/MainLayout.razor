@inherits LayoutComponentBase
@using IncidentsTI.Web.Components.Shared

<div class="flex h-full bg-gray-100 overflow-hidden">
    <!-- Sidebar -->
    <div class="w-64 bg-blue-600 shadow-lg flex-shrink-0 overflow-y-auto">
        <NavMenu />
    </div>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col min-w-0 overflow-hidden">
        <!-- Top Header Bar -->
        <header class="bg-white shadow-sm border-b border-gray-200 px-6 py-3 flex-shrink-0">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <h1 class="text-lg font-semibold text-gray-800">Sistema de Gestión de Incidentes</h1>
                </div>
                <div class="flex items-center gap-4">
                    <AuthorizeView>
                        <Authorized>
                            <NotificationBell />
                        </Authorized>
                    </AuthorizeView>
                </div>
            </div>
        </header>
        
        <!-- Main Content - Single scroll container -->
        <main class="flex-1 overflow-y-auto overflow-x-hidden bg-gray-50">
            @Body
        </main>
    </div>
</div>

<script src="/js/auth.js"></script>

<ToastContainer />

<div id="blazor-error-ui" class="bg-error text-white p-4 fixed bottom-0 left-0 right-0 z-50">
    Ha ocurrido un error inesperado.
    <a href="" class="underline ml-2">Recargar</a>
    <a class="dismiss ml-4 cursor-pointer">✕</a>
</div>
